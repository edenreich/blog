{% extends 'admin.layout.twig' %}
{% block title %}Admin - Content Edit{% endblock %}
{% block header %}
<div class="row mb-2">
  <div class="col-sm-6">
    <h1>Content</h1>
  </div>
  {% include 'includes/breadcrumb.html.twig' with {'breadcrumbs': [{'name':'Content','link':'/content'},{'name':'Edit','link':'/content/edit'}]} %}
</div>
{% endblock %}
{% block body %}
<div class="container-fluid">
  <div class="row">
    <!-- Primary table start -->
    <div class="col-12 mt-5">
      <div class="card">
        <div class="card-body">
          <h4 class="header-title">Edit</h4>
          <div class="content-edit-form">
            <form action="{{ path('content_edit_submit', { 'id': article.id }) }}" method="POST">
              <div class="form-group">
                <label for="id">Id</label>
                <input type="text" name="id" class="form-control" id="id" value="{{ article.id }}" disabled>
              </div>
              <div class="form-group">
                <label for="title">Title</label>
                <input type="text" name="title" class="form-control" id="title" placeholder="Title..." value="{{ article.title }}">
              </div>
              <div class="form-group">
                <label for="slug">Slug</label>
                <input type="text" name="slug" class="form-control" id="slug" placeholder="Slug..." value="{{ article.slug }}">
              </div>
              <div class="form-group">
                <label for="meta_keywords">Meta Keywords</label>
                <input type="text" name="meta_keywords" class="form-control" id="meta_keywords" placeholder="Meta Keywords..." value="{{ article.metaKeywords }}">
              </div>
              <div class="form-group">
                <label for="meta_description">Meta Description</label>
                <input type="text" name="meta_description" class="form-control" id="meta_description" placeholder="Meta Description..." value="{{ article.metaDescription }}">
              </div>
              <div class="form-group">
                <label for="content">Content</label>
                <textarea id="content" name="content" class="form-control" id="content" rows="10" style="resize: none">{{ article.content }}</textarea>
              </div>
              <div class="form-check">
                <input type="checkbox" name="publish" class="form-check-input" id="publish" {{ (article.publishedAt) ? 'checked' : '' }}>
                <label class="form-check-label" for="publish">Publish</label>
              </div>
              <input type="hidden" name="updated_at" value="{{ article.updatedAt|format_datetime() }}">
              <input type="hidden" name="created_at" value="{{ article.createdAt|format_datetime() }}">
              <button type="submit" class="btn btn-primary mt-4 pr-4 pl-4">Save</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- Primary table end -->
  </div>
</div>
{% endblock %}

{% block javascripts %}
<script>
  window.onload = () => {
    $(() => {
      $('textarea').summernote({
        placeholder: 'Type your content...',
        tabsize: 2,
        height: 300,
      });
    });
  }
</script>
{% endblock %}
